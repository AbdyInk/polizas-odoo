import{k as U,j as V,r,h as E,i as N,l as e,C as L}from"./index-BVH3YHn-.js";import{b as w,c as d}from"./index.es-BlJVXpB8.js";import{C as n,a as P,b as C,c as b,d as f}from"./CCardTitle-DDsbpPwi.js";import{C as W}from"./CButtonGroup-Dsgf2J_E.js";import{C as B}from"./CFormCheck-Ddw8whYV.js";import{C as F,a as A,b as v,c as i,d as H,e as x,P as D,S as I}from"./PaginationGroup-BSk5yT7U.js";import"./CFormLabel-BiJKrktM.js";import"./DefaultLayout-CLTnpo9j.js";import"./CButton-DXDQaeGr.js";import"./Page404-BlR5mVh2.js";import"./logoVito-XwPXCkoB.js";const ne=()=>{const R=U(),[G]=V(),[S,M]=r.useState(1);var t=G.get("n");let O=window.location.href.split("#")[1].split("?")[0];const[a,J]=r.useState({}),[h,K]=r.useState([]),[u,Q]=r.useState([]),[_,T]=r.useState(!0);r.useEffect(()=>{E.get(N+"/odoo/gps/",{params:{numero:t}}).then(s=>(J(s.data),E.get(N+"/odoo/gssgp/",{params:{numero:t}}))).then(s=>(Q(s.data),E.get(N+"/odoo/ges/",{params:{numero:t}}))).then(s=>{K(s.data),T(!1)}).catch(s=>{console.log(s),T(!1)})},[]);function q(s){R(s)}function z(s){M(s)}r.useState(),r.useState(0),r.useState(5);const p=[10,20,30,50],[l,k]=r.useState(1),[o,j]=r.useState(10);return e.jsxs(w,{children:[e.jsx(d,{xs:12,children:e.jsxs(n,{children:[e.jsxs(P,{as:"h5",children:["Poliza #",t]}),e.jsxs(w,{children:[e.jsx(d,{sm:6,children:e.jsx(n,{children:e.jsxs(C,{children:[e.jsx(b,{children:"Información de la poliza"}),e.jsxs(f,{children:[e.jsx("b",{children:"Numero:"})," ",a.x_name," ",e.jsx("br",{}),e.jsx("b",{children:"Cliente:"})," ",a.x_studio_cliente?a.x_studio_cliente[1]:"",a.x_studio_periodo?e.jsxs(e.Fragment,{children:[e.jsx("br",{}),e.jsx("b",{children:"Periodo de mantenimiento:"})," ",a.x_studio_periodo[1]]}):""]})]})})}),e.jsx(d,{sm:6,children:e.jsx(n,{children:e.jsxs(C,{children:[e.jsx(b,{children:"Fechas"}),e.jsxs(f,{children:[e.jsx("b",{children:"Fecha Inicio:"})," ",a.x_studio_fecha_inicio?a.x_studio_fecha_inicio.split("-").reverse().join("/"):""," ",e.jsx("br",{}),e.jsx("b",{children:"Fecha de Expiración:"})," ",a.x_studio_fecha_expiro?a.x_studio_fecha_expiro.split("-").reverse().join("/"):""]})]})})})]})]})}),e.jsxs(W,{role:"group","aria-label":"Basic checkbox toggle button group",children:[e.jsx(B,{type:"radio",button:{color:"primary",variant:"outline"},name:"btnradio",value:1,checked:S===1,onChange:s=>z(1),id:"btnradio1",label:"Servicios de Mantenimiento"}),e.jsx(B,{type:"radio",button:{color:"primary",variant:"outline"},name:"btnradio",value:2,checked:S===2,onChange:s=>z(2),id:"btnradio2",label:"Equipos"})]}),S===1?e.jsx(d,{xs:12,children:u.length!==0?e.jsxs(n,{className:"mb-4",children:[e.jsxs(F,{className:"fs-auto",hover:!0,children:[e.jsx(A,{color:"light",children:e.jsxs(v,{children:[e.jsx(i,{scope:"col",children:"Servicios"}),e.jsx(i,{scope:"col",children:"Encargado"}),e.jsx(i,{scope:"col",children:"Fecha del Servicio"}),e.jsx(i,{scope:"col",children:"Siguiente Servicio"})]})}),e.jsx(H,{children:t&&Array.isArray(u)?u.sort((s,c)=>c.id-s.id).slice((l-1)*o,o*l).map(({x_name:s,x_studio_nombre:c,x_studio_fecha_servicio:m,x_studio_siguiente_servicio:g},y)=>e.jsxs(v,{children:[e.jsx(i,{onClick:()=>q("/servicios/servicio?n="+s),className:"text-primary",style:{textDecoration:"underline",cursor:"pointer"},scope:"row",children:s}),e.jsx(x,{children:c}),e.jsx(x,{children:m?m.split("-").reverse().join("/"):"-"}),e.jsx(x,{children:g?g.split("-").reverse().join("/"):"-"})]},y)):null})]}),e.jsx(D,{className:"align-self-center",prev:!0,last:!0,next:!0,first:!0,size:"sm-auto",total:u.length,limit:o,maxButtons:3,activePage:l,onChangePage:k,onChangeLimit:j,limitOptions:p}),e.jsxs("span",{className:"align-self-center",style:{marginLeft:20},children:["Elementos por pagina：",e.jsx(I,{value:o,onChange:j,cleanable:!1,searchable:!1,data:p.map(s=>({value:s,label:s})),placement:"autoHorizontalEnd"})]})]}):_===!0?e.jsx(L,{color:"primary"}):e.jsxs(n,{className:"text-center",children:[e.jsx(P,{children:"servicios"}),e.jsxs(C,{children:[e.jsx(b,{children:"¡Sin servicios!"}),e.jsx(f,{children:"Su cuenta no posee algun registro de servicios por el momento."})]})]})}):e.jsx(d,{xs:12,children:h.length!==0?e.jsxs(n,{className:"mb-4",children:[e.jsxs(F,{hover:!0,children:[e.jsx(A,{color:"light",children:e.jsxs(v,{children:[e.jsx(i,{scope:"col",children:"Equipo"}),e.jsx(i,{scope:"col",children:"Modelo"}),e.jsx(i,{scope:"col",children:"Serie"})]})}),e.jsx(H,{children:t&&Array.isArray(h)?h.slice((l-1)*o,o*l).map(({x_name:s,x_studio_marca:c,x_studio_modelo:m,x_studio_serie:g},y)=>e.jsxs(v,{onClick:()=>q(O+"/equipo?n="+t+"&idenf="+s),children:[e.jsx(i,{className:"text-primary",style:{textDecoration:"underline",cursor:"pointer"},scope:"row",children:s}),e.jsx(x,{children:c[1]+" "+m[1]}),e.jsx(x,{children:g})]},y)):null})]},"s"),e.jsx(D,{className:"align-self-center",prev:!0,last:!0,next:!0,first:!0,size:"sm-auto",total:h.length,limit:o,maxButtons:3,activePage:l,onChangePage:k,onChangeLimit:j,limitOptions:p}),e.jsxs("span",{className:"align-self-center",style:{marginLeft:20},children:["Elementos por pagina：",e.jsx(I,{value:o,onChange:j,cleanable:!1,searchable:!1,data:p.map(s=>({value:s,label:s})),placement:"autoHorizontalEnd"})]})]}):_===!0?e.jsx(L,{color:"primary"}):e.jsxs(n,{className:"text-center",children:[e.jsx(P,{children:"Equipos"}),e.jsxs(C,{children:[e.jsx(b,{children:"No hay equipos"}),e.jsx(f,{children:"Esta poliza aún no posee equipos."})]})]})})]})};export{ne as default};
