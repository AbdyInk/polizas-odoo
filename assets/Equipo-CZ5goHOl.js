import{j as A,i as B,r,h as S,k as e,C as H}from"./index-D0OCUon_.js";import{C as I}from"./DefaultLayout-DIvy65Oc.js";import{b as E,c as d}from"./index.es-DhYxYDZQ.js";import{C as o,a as p}from"./CCardBody-CUzB_K7m.js";import{C as P}from"./CCardHeader-DQfTcLYz.js";import{C as m,a as u}from"./CCardTitle-B85yFFp_.js";import{C as k,a as D,b as T,c as i,d as M,e as j}from"./CTable-B6CYeJOt.js";import{P as F,S as G}from"./PaginationGroup-DyKdoR-g.js";import"./CButton-BMl5Fbdg.js";import"./Page404-CmIcJg0C.js";import"./cil-user-Ddrdy7PS.js";import"./chunk-QINAG4RG-D_5lgvg7.js";import"./index-DKSSm5ev.js";const re=()=>{const _=A(),[C]=B();var v=C.get("n"),t=C.get("idenf");const[a,y]=r.useState({}),[n,q]=r.useState([]),[N,g]=r.useState(!0);r.useEffect(()=>{S.get("http://localhost:8000/odoo/ge/",{params:{idenf:t}}).then(s=>(y(s.data),S.get("http://localhost:8000/odoo/grs/",{params:{idenf:t}}))).then(s=>{q(s.data),g(!1)}).catch(s=>{console.log(s),g(!1)})},[]);function R(s){_(s)}r.useState(),r.useState(0),r.useState(5);const f=[5,10,20,50],[x,z]=r.useState(1),[l,b]=r.useState(5);return e.jsxs(E,{children:[e.jsx(d,{xs:12,children:e.jsxs(o,{children:[e.jsxs(P,{as:"h5",children:["Equipo #",t]}),e.jsxs(E,{children:[e.jsx(d,{sm:6,children:e.jsx(o,{children:e.jsxs(p,{children:[e.jsx(m,{children:"Información de el equipo"}),e.jsxs(u,{children:[e.jsx("b",{children:"Identificador:"})," ",a.x_name," ",e.jsx("br",{}),e.jsx("b",{children:"Equipo:"})," ",a.x_studio_tipo?a.x_studio_tipo[1]:""]})]})})}),e.jsx(d,{sm:6,children:e.jsx(o,{children:e.jsxs(p,{children:[e.jsx(m,{}),e.jsxs(u,{children:[e.jsx("b",{children:"Marca:"})," ",a.x_studio_marca?a.x_studio_marca[1]:""," ",e.jsx("br",{}),e.jsx("b",{children:"Modelo:"})," ",a.x_studio_modelo?a.x_studio_modelo[1]:"","  ",e.jsx("br",{}),e.jsx("b",{children:"Serie:"})," ",a.x_studio_serie]})]})})})]})]})}),e.jsx(d,{xs:12,children:n.length!==0?e.jsxs(o,{className:"mb-4",children:[e.jsxs(k,{hover:!0,children:[e.jsx(D,{color:"light",children:e.jsxs(T,{children:[e.jsx(i,{scope:"col",children:"Reporte"}),e.jsx(i,{scope:"col",children:"Encargado"}),e.jsx(i,{scope:"col",children:"Tecnico Asignado"}),e.jsx(i,{scope:"col",children:"Estado"})]})}),e.jsx(M,{children:t&&Array.isArray(n)?n.sort((s,h)=>h.id-s.id).slice((x-1)*l,l*x).map(({x_name:s,x_studio_encargado:h,x_studio_tecnico:L,x_estado:c},w)=>e.jsxs(T,{onClick:()=>R("/polizas/poliza/equipo/reporte?n="+v+"&idenf="+t+"&rid="+s),children:[e.jsx(i,{className:"text-primary",style:{textDecoration:"underline",cursor:"pointer"},scope:"row",children:s}),e.jsx(j,{children:h}),e.jsx(j,{children:L}),e.jsx(j,{children:e.jsx(I,{color:c==="Pendiente"?"warning":c==="Inconcluso"?"danger":c==="Finalizado"?"success":"info",children:c})})]},w)):null})]}),e.jsx(F,{className:"align-self-center",prev:!0,last:!0,next:!0,first:!0,size:"sm-auto",total:n.length,limit:l,maxButtons:3,activePage:x,onChangePage:z,onChangeLimit:b,limitOptions:f}),e.jsxs("span",{className:"align-self-center",style:{marginLeft:20},children:["Elementos por pagina：",e.jsx(G,{value:l,onChange:b,cleanable:!1,searchable:!1,data:f.map(s=>({value:s,label:s})),placement:"autoHorizontalEnd"})]})]}):N===!0?e.jsx(H,{color:"primary"}):e.jsxs(o,{className:"text-center",children:[e.jsx(P,{children:"Reportes"}),e.jsxs(p,{children:[e.jsx(m,{children:"No hay reportes"}),e.jsx(u,{children:"Este equipo aún no posee reportes."})]})]})})]})};export{re as default};
