import{k,j as z,r,h as E,i as P,l as e,C as D}from"./index-CgAl9FK6.js";import{b as T,c as d}from"./index.es-fkYNXrzs.js";import{C as n,a as y,b as p,c as u,d as m}from"./CCardTitle-4Ft6sy35.js";import{C as F,a as M,b as q,c as i,d as G,e as x,P as O,S as J}from"./PaginationGroup-Ci3keYmX.js";import{C as K}from"./DefaultLayout-DgD7_2vJ.js";import"./CButton-BLvGHxkN.js";import"./Page404-DAP6htMV.js";import"./logoVito-IkyfpPbO.js";const ee=()=>{const N=k(),[C]=z();var _=C.get("n"),t=C.get("idenf");let w=window.location.href.split("#")[1].split("?")[0];const[a,R]=r.useState({}),[o,L]=r.useState([]),[A,g]=r.useState(!0);r.useEffect(()=>{E.get(P+"/odoo/ge/",{params:{idenf:t}}).then(s=>(R(s.data),E.get(P+"/odoo/grs/",{params:{idenf:t}}))).then(s=>{L(s.data),g(!1)}).catch(s=>{console.log(s),g(!1)})},[]);function B(s){N(s)}r.useState(),r.useState(0),r.useState(5);const f=[5,10,20,50],[h,H]=r.useState(1),[l,b]=r.useState(5);return e.jsxs(T,{children:[e.jsx(d,{xs:12,children:e.jsxs(n,{children:[e.jsxs(y,{as:"h5",children:["Equipo #",t]}),e.jsxs(T,{children:[e.jsx(d,{sm:6,children:e.jsx(n,{children:e.jsxs(p,{children:[e.jsx(u,{children:"Información de el equipo"}),e.jsxs(m,{children:[e.jsx("b",{children:"Identificador:"})," ",a.x_name," ",e.jsx("br",{}),e.jsx("b",{children:"Equipo:"})," ",a.x_studio_tipo?a.x_studio_tipo[1]:""]})]})})}),e.jsx(d,{sm:6,children:e.jsx(n,{children:e.jsxs(p,{children:[e.jsx(u,{}),e.jsxs(m,{children:[e.jsx("b",{children:"Marca:"})," ",a.x_studio_marca?a.x_studio_marca[1]:""," ",e.jsx("br",{}),e.jsx("b",{children:"Modelo:"})," ",a.x_studio_modelo?a.x_studio_modelo[1]:"","  ",e.jsx("br",{}),e.jsx("b",{children:"Serie:"})," ",a.x_studio_serie]})]})})})]})]})}),e.jsx(d,{xs:12,children:o.length!==0?e.jsxs(n,{className:"mb-4",children:[e.jsxs(F,{hover:!0,children:[e.jsx(M,{color:"light",children:e.jsxs(q,{children:[e.jsx(i,{scope:"col",children:"Reporte"}),e.jsx(i,{scope:"col",children:"Encargado"}),e.jsx(i,{scope:"col",children:"Tecnico Asignado"}),e.jsx(i,{scope:"col",children:"Fecha de mantenimiento"}),e.jsx(i,{scope:"col",children:"Estado"})]})}),e.jsx(G,{children:t&&Array.isArray(o)?o.sort((s,j)=>j.id-s.id).slice((h-1)*l,l*h).map(({x_name:s,x_studio_encargado:j,x_studio_tecnico:S,x_studio_fecha_mantenimiento:v,x_estado:c},I)=>e.jsxs(q,{onClick:()=>B(w+"/reporte?n="+_+"&idenf="+t+"&rid="+s),children:[e.jsx(i,{className:"text-primary",style:{textDecoration:"underline",cursor:"pointer"},scope:"row",children:s}),e.jsx(x,{children:j}),e.jsx(x,{children:S?S[1]:""}),e.jsx(x,{children:v?v.split("-").reverse().join("/"):""}),e.jsx(x,{children:e.jsx(K,{color:c==="Pendiente"?"warning":c==="Inconcluso"?"danger":c==="Finalizado"?"success":"info",children:c})})]},I)):null})]}),e.jsx(O,{className:"align-self-center",prev:!0,last:!0,next:!0,first:!0,size:"sm-auto",total:o.length,limit:l,maxButtons:3,activePage:h,onChangePage:H,onChangeLimit:b,limitOptions:f}),e.jsxs("span",{className:"align-self-center",style:{marginLeft:20},children:["Elementos por pagina：",e.jsx(J,{value:l,onChange:b,cleanable:!1,searchable:!1,data:f.map(s=>({value:s,label:s})),placement:"autoHorizontalEnd"})]})]}):A===!0?e.jsx(D,{color:"primary"}):e.jsxs(n,{className:"text-center",children:[e.jsx(y,{children:"Reportes"}),e.jsxs(p,{children:[e.jsx(u,{children:"No hay reportes"}),e.jsx(m,{children:"Este equipo aún no posee reportes."})]})]})})]})};export{ee as default};
